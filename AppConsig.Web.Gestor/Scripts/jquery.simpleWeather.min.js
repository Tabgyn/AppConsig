(function(n){"use strict";function t(n,t){return n==="f"?Math.round(5/9*(t-32)):Math.round(9/5*t+32)}n.extend({simpleWeather:function(i){i=n.extend({location:"",woeid:"",unit:"f",success:function(){},error:function(){}},i);var r=new Date,u="https://query.yahooapis.com/v1/public/yql?format=json&rnd="+r.getFullYear()+r.getMonth()+r.getDay()+r.getHours()+"&diagnostics=true&callback=?&q=";if(i.location!=="")u+='select * from weather.forecast where woeid in (select woeid from geo.placefinder where text="'+i.location+'" and gflags="R" limit 1) and u="'+i.unit+'"';else if(i.woeid!=="")u+="select * from weather.forecast where woeid="+i.woeid+' and u="'+i.unit+'"';else return i.error({message:"Could not retrieve weather due to an invalid location."}),!1;return n.getJSON(encodeURI(u),function(n){var f;if(n!==null&&n.query!==null&&n.query.results!==null&&n.query.results.channel.description!=="Yahoo! Weather Error"){var r=n.query.results.channel,u={},e,o="https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png";for(u.title=r.item.title,u.temp=r.item.condition.temp,u.code=r.item.condition.code,u.todayCode=r.item.forecast[0].code,u.currently=r.item.condition.text,u.high=r.item.forecast[0].high,u.low=r.item.forecast[0].low,u.text=r.item.forecast[0].text,u.humidity=r.atmosphere.humidity,u.pressure=r.atmosphere.pressure,u.rising=r.atmosphere.rising,u.visibility=r.atmosphere.visibility,u.sunrise=r.astronomy.sunrise,u.sunset=r.astronomy.sunset,u.description=r.item.description,u.city=r.location.city,u.country=r.location.country,u.region=r.location.region,u.updated=r.item.pubDate,u.link=r.item.link,u.units={temp:r.units.temperature,distance:r.units.distance,pressure:r.units.pressure,speed:r.units.speed},u.wind={chill:r.wind.chill,direction:["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(r.wind.direction/22.5)],speed:r.wind.speed},u.heatindex=r.item.condition.temp<80&&r.atmosphere.humidity<40?-42.379+2.04901523*r.item.condition.temp+10.14333127*r.atmosphere.humidity-.22475541*r.item.condition.temp*r.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(r.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(r.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(r.item.condition.temp,2)*r.atmosphere.humidity+8.5282*Math.pow(10,-4)*r.item.condition.temp*Math.pow(r.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(r.item.condition.temp,2)*Math.pow(r.atmosphere.humidity,2):r.item.condition.temp,r.item.condition.code=="3200"?(u.thumbnail=o,u.image=o):(u.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+r.item.condition.code+"ds.png",u.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+r.item.condition.code+"d.png"),u.alt={temp:t(i.unit,r.item.condition.temp),high:t(i.unit,r.item.forecast[0].high),low:t(i.unit,r.item.forecast[0].low)},u.alt.unit=i.unit==="f"?"c":"f",u.forecast=[],f=0;f<r.item.forecast.length;f++)e=r.item.forecast[f],e.alt={high:t(i.unit,r.item.forecast[f].high),low:t(i.unit,r.item.forecast[f].low)},r.item.forecast[f].code=="3200"?(e.thumbnail=o,e.image=o):(e.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+r.item.forecast[f].code+"ds.png",e.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+r.item.forecast[f].code+"d.png"),u.forecast.push(e);i.success(u)}else i.error({message:"There was an error retrieving the latest weather information. Please try again.",error:n.query.results.channel.item.title})}),this}})})(jQuery);
//# sourceMappingURL=jquery.simpleWeather.min.js.map
